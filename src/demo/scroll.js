(()=>{var f=e=>{let t=0,n=0,r=e.offsetWidth,o=e.offsetHeight;for(;e;)t+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent;let s=document.documentElement.clientHeight-o,l=document.documentElement.clientWidth-r;return{top:t,bottom:s,left:n,right:l,width:r,height:o}};var w=(e,t)=>e.querySelector(t),T=(e,t)=>[].slice.call(e.querySelectorAll(t)),E=e=>w(document,e),v=e=>T(document,e);var p=(e,t,n)=>e!=null&&t<e?e:n!=null&&t>n?n:t;var x=(e,t,n=!1)=>{let r;return function(){var o=this,s=arguments;window.clearTimeout(r),r=window.setTimeout(function(){r=null,n||e.apply(o,s)},t),n&&!r&&e.apply(o,s)}};var M="DOWN",H="UP",O=!1,a=[],Y,c={},S;function y(){N(),X(),D()}var q=x(y,250);function X(){for(let e=0;e<a.length;e++)Object.assign(a[e].entry,f(a[e].entry.target))}function N(){let e=window,t=document.documentElement;c.scrollX=e.scrollX,c.scrollY=e.scrollY,c.scrollHeight=t.scrollHeight,c.direction=e.scrollY>=Y?M:H,c.width=t.clientWidth,c.height=t.clientHeight}function D(){let e=a.length;if(!!e){c.scrollX=window.scrollX,c.scrollY=window.scrollY,c.direction=window.scrollY>=Y?M:H;for(let t=e-1;t>=0;t--){let{entry:n,cb:r}=a[t];r({entry:n,root:c})}}}function L(e,t){if(a.some(r=>r.entry.target===e&&r.cb===t)){console.error("addScrollListener: target already subscribed with callback");return}let n=Object.assign({target:e},f(e));a.push({entry:n,cb:t}),O||(O=!0,y(),P()),t({entry:n,root:c})}function P(){window.addEventListener("scroll",D,{passive:!0}),window.addEventListener("resize",y,{passive:!0}),S=new MutationObserver(q),S.observe(document.documentElement,{attributes:!1,childList:!0,subtree:!0})}var W=(e,t=0)=>{let{entry:n,root:r}=e,o=r.scrollY+t,s=r.scrollY+r.height-t;return n.top<s&&n.top+n.height>o};var C=(e,t=0)=>{if(!W(e,t))return 0;let{entry:n,root:r}=e,o=r.scrollY-n.height/2+t,l=r.scrollY+n.height/2+r.height-t-o,i=o+l/2,u=n.top+n.height/2;if(u===i)return 1;if(u<i)return 1-(i-u)/(l/2);if(u>i)return 1+(i-u)/(l/2)};var b=(e,t,n)=>{n=n>1?1:n<0?0:n;let[r,o,s,l=1]=e,[i,u,g,h=1]=t,d=Math.round(r+n*(i-r)),G=Math.round(o+n*(u-o)),I=Math.round(s+n*(g-s)),Q=l+n*(h-l);return[d,G,I,Q]};function A(e){return e<.5?2*e*e:-1+(4-2*e)*e}var V=[255,72,0];var j=[173,255,47],z=v("p");z.forEach((e,t,n)=>{let r;t===40&&(e.style.outline="5px solid black"),L(e,s=>{let{root:l}=s,i=C(s,0);if(i===r)return;r=i;let u=l.scrollY/(l.scrollHeight-l.height),g=b(V,[200,200,200],u),h=b(j,[0,0,0],u),d=A(i);t===40&&console.log(i),requestAnimationFrame(()=>{e.style.transform=`translateX(${100*d}px)`,e.style.color=`rgba(${b(g,h,d).join(",")})`})})});var R=E("nav"),B=window.scrollY,k=0,m=0;L(R,({entry:e,root:t})=>{m=p(0,m+t.scrollY-B,e.height),k!==m&&requestAnimationFrame(()=>{R.style.transform=`translateY(-${m}px)`}),B=t.scrollY,k=m});})();
//# sourceMappingURL=scroll.js.map
