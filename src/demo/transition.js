(()=>{var r=[];function m(t,e){console.log("-----------------------------");let x=n=>requestAnimationFrame(()=>requestAnimationFrame(n)),g="transitionend",f="transitionrun",a,c=r.indexOf(t)!==-1;c||r.push(t),c&&console.log("isTransitioning, overriding willTransition because already rtransitioning");let h=()=>{let n=r.indexOf(t);n!==-1&&r.splice(n,1)},u=n=>{console.log("transitionrun"),a=!0,t.removeEventListener(f,u)},p=()=>{e.end&&e.end(),t.removeEventListener(g,E),h()},E=n=>{n.target===t&&(console.log("onTransitionEnd"),p())};e.setup&&e.setup(),t.addEventListener(g,E),t.addEventListener(f,u),e.trigger&&e.trigger(),x(()=>{console.log("willTransition",a),!a&&!c&&(console.log("exit early because !willTransition"),p())})}var l=(t,...e)=>(t.classList.add(...e),t),s=(t,...e)=>(t.classList.remove(...e),t);var L=(t,e)=>t.querySelector(e);var i=t=>L(document,t);var o=i("nav"),v=i("[data-action=show]"),H=i("[data-action=hide]");document.addEventListener("keyup",t=>{t.key==="s"&&d(),t.key==="j"&&d(),t.key==="h"&&T()});v.addEventListener("click",d);H.addEventListener("click",T);function d(){m(o,{setup:()=>{console.log("show::setup")},trigger:()=>{console.log("show::trigger"),l(o,"is-transitioning","is-visible")},end:()=>{console.log("show::end"),s(o,"is-transitioning")}})}function T(){m(o,{setup:()=>{console.log("hide::start")},trigger:()=>{console.log("hide::trigger"),l(o,"is-transitioning"),s(o,"is-visible")},end:()=>{console.log("hide::end"),s(o,"is-transitioning")}})}})();
//# sourceMappingURL=transition.js.map
